## Kafka CLI 실습 - 토픽 실습

## topic 생성

### single partition 토픽 생성

topic 을 생성해봅니다. docker-compose 내의 kafka 라는 이름의 service 에 접속해서 `topic1` 을 생성하는 CLI 입니다. 

```bash
$ docker-compose exec kafka kafka-topics --create --topic topic1 --bootstrap-server kafka:29092
Created topic topic1.
```

<br/>



### partition 5 개 갖는 토픽 생성

partition 을 5개 갖는 토픽을 생성합니다.

```bash
$ docker-compose exec kafka kafka-topics --create --topic topic2 --bootstrap-server kafka:9092 --partitions 5
Created topic topic2.
```

<br/>



### partition 5개, replication factor 1 인 토픽 생성

이번에는 partition 의 갯수는 5개이면서 각각의 파티션이 1개씩 복제 되도록 replication factor 를 1 로 지정하는 토픽을 생성합니다.

```bash
$ docker-compose exec kafka kafka-topics --create --topic topic3 --bootstrap-server kafka:9092 --partitions 5 --replication-factor 1
Created topic topic3.
```

<br/>



### 토픽들을 출력(list)

```bash
$ docker-compose exec kafka kafka-topics --list --bootstrap-server kafka:9092
topic1
topic2
topic3
```

<br/>



## 토픽 describe

리눅스의 ls -al 명령처럼 현재 토픽들의 상세 상황을 살펴봅니다.

```bash
$ docker-compose exec kafka kafka-topics --describe --topic topic2 --bootstrap-server kafka:9092
Topic: topic2   TopicId: 8tbqDaMzSmWAvuHvwOGP5A PartitionCount: 5       ReplicationFactor: 1    Configs:
        Topic: topic2   Partition: 0    Leader: 1       Replicas: 1     Isr: 1
        Topic: topic2   Partition: 1    Leader: 1       Replicas: 1     Isr: 1
        Topic: topic2   Partition: 2    Leader: 1       Replicas: 1     Isr: 1
        Topic: topic2   Partition: 3    Leader: 1       Replicas: 1     Isr: 1
        Topic: topic2   Partition: 4    Leader: 1       Replicas: 1     Isr: 1
```

<br/>



## 토픽 삭제

토픽 삭제는 아래와 같이 해줄수 있습니다.

```bash
$ docker-compose exec kafka kafka-topics --delete --topic topic1 --bootstrap-server kafka:9092
```







